@echo off
REM Windows 渗透测试常用工具一键下载脚本
REM 需以管理员身份运行CMD

chcp 65001 >nul

echo [*] 开始下载常用渗透测试工具...

REM 创建工具目录
set TOOLDIR=%~dp0pentest_tools
if not exist %TOOLDIR% mkdir %TOOLDIR%
cd /d %TOOLDIR%

REM 下载工具
REM nmap
powershell -Command "Invoke-WebRequest -Uri https://nmap.org/dist/nmap-7.94-setup.exe -OutFile nmap-setup.exe"
REM masscan
powershell -Command "Invoke-WebRequest -Uri https://github.com/robertdavidgraham/masscan/releases/latest/download/masscan.exe -OutFile masscan.exe"
REM hydra (windows移植版)
powershell -Command "Invoke-WebRequest -Uri https://github.com/maaaaz/thc-hydra-windows/releases/latest/download/hydra-windows.zip -OutFile hydra-windows.zip"
REM sqlmap
powershell -Command "Invoke-WebRequest -Uri https://github.com/sqlmapproject/sqlmap/archive/refs/heads/master.zip -OutFile sqlmap.zip"
REM gobuster
powershell -Command "Invoke-WebRequest -Uri https://github.com/OJ/gobuster/releases/latest/download/gobuster-windows-amd64.exe -OutFile gobuster.exe"
REM dirsearch
powershell -Command "Invoke-WebRequest -Uri https://github.com/maurosoria/dirsearch/archive/refs/heads/master.zip -OutFile dirsearch.zip"
REM whatweb (需Python)
REM nikto
powershell -Command "Invoke-WebRequest -Uri https://github.com/sullo/nikto/archive/refs/heads/master.zip -OutFile nikto.zip"
REM john the ripper
powershell -Command "Invoke-WebRequest -Uri https://www.openwall.com/john/k/john-1.9.0-jumbo-1-win64.zip -OutFile john.zip"
REM metasploit (下载启动器)
powershell -Command "Invoke-WebRequest -Uri https://windows.metasploit.com/metasploitframework-latest.msi -OutFile metasploit.msi"
REM seclists
powershell -Command "Invoke-WebRequest -Uri https://github.com/danielmiessler/SecLists/archive/refs/heads/master.zip -OutFile seclists.zip"

echo [*] 所有工具下载完成，请手动解压并安装相关依赖（如Python、Git等）。
pause
